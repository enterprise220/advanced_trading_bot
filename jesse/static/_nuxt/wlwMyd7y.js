import{g as I,r as V,D as E,o as u,q as _,w as i,b as s,t as m,d as n,B as t,a2 as B,c as w,C as v,J as W,a3 as U,a4 as C,K as b,v as N,a5 as $,a6 as F,a7 as M,i as P,e as K,m as T,F as L,a8 as G,a9 as H,N as J,aa as R}from"./Dl48H-cf.js";import{_ as z}from"./BTdtwO3f.js";import{_ as O}from"./CXvS0V0S.js";import{S as Q}from"./DY5MsGYg.js";import{u as X}from"./DCynXvCa.js";const Y={class:"flex justify-between items-center mb-2"},Z={class:"text-xl font-bold"},ee={class:"text-sm text-gray-500 dark:text-gray-400"},ae={class:"mt-4"},te={class:"flex justify-between"},se={class:"flex justify-between"},le={key:0},ne={class:"flex justify-between"},oe={class:"flex justify-between"},re={class:"flex justify-between"},ie=I({__name:"ExchangeApiKey",props:{apiKey:{}},setup(S){const f=S,d=V(!1),e=V(!1),y=E();async function x(){e.value=!0;const{data:r,error:l}=await U("/exchange-api-keys/delete",{id:f.apiKey.id},!0);if(e.value=!1,l.value&&l.value.statusCode!==200){C(l);return}d.value=!1,b("success","API Key deleted successfully"),y.exchangeApiKeys=y.exchangeApiKeys.filter(h=>h.id!==f.apiKey.id)}return(r,l)=>{const h=N,A=$,a=F;return u(),_(a,{class:"mb-4 p-4 bg-white"},{default:i(()=>[s("div",Y,[s("h2",Z,m(r.apiKey.name)+" â€¢ "+m(r.apiKey.exchange),1),n(h,{icon:"i-heroicons-trash",color:"red",label:"Delete",variant:"link",onClick:l[0]||(l[0]=p=>d.value=!0)})]),s("p",ee,m(t(B)(r.apiKey.created_at).value),1),s("div",ae,[s("div",te,[l[2]||(l[2]=s("span",{class:"font-medium"},"API Key:",-1)),s("span",null,m(r.apiKey.api_key),1)]),s("div",se,[l[3]||(l[3]=s("span",{class:"font-medium"},"API Secret:",-1)),s("span",null,m(r.apiKey.api_secret),1)]),r.apiKey.exchange.startsWith("Dydx")||r.apiKey.exchange.startsWith("Apex")?(u(),w("div",le,[s("div",ne,[l[4]||(l[4]=s("span",{class:"font-medium"},"API Passphrase:",-1)),s("span",null,m(r.apiKey.api_passphrase),1)]),s("div",oe,[l[5]||(l[5]=s("span",{class:"font-medium"},"Wallet Address:",-1)),s("span",null,m(r.apiKey.wallet_address),1)]),s("div",re,[l[6]||(l[6]=s("span",{class:"font-medium"},"Stark Private Key:",-1)),s("span",null,m(r.apiKey.stark_private_key),1)])])):v("",!0)]),n(A,{modelValue:t(d),"onUpdate:modelValue":l[1]||(l[1]=p=>W(d)?d.value=p:null),title:"Delete API Key",description:`Are you sure you want to delete '${r.apiKey.name}' API key?`,type:"info"},{default:i(()=>[n(h,{variant:"solid",color:"red",class:"flex justify-center",label:"Delete",loading:t(e),onClick:x},null,8,["loading"])]),_:1},8,["modelValue","description"])]),_:1})}}}),de={class:"flex justify-end"},ue={class:"mt-8"},pe={key:0},xe=I({__name:"exchange-api-keys",setup(S){X({title:"Exchange API Keys"});const f=V(!1),d=E(),e=M({exchange:d.liveTradingExchangeNames[0],name:"",apiKey:"",apiSecret:"",apiPassphrase:"",walletAddress:"",stark_private_key:""}),y=P(()=>d.exchangeApiKeys),x=P(()=>e.exchange.startsWith("Dydx")||e.exchange.startsWith("Apex")),r=P(()=>e.exchange.startsWith("Dydx")||e.exchange.startsWith("Apex")?e.exchange&&e.apiKey&&e.apiSecret&&e.apiPassphrase&&e.walletAddress&&e.stark_private_key:e.exchange&&e.apiKey&&e.apiSecret);async function l(){if(!r.value){b("error","Please fill in all required fields");return}f.value=!0;const A={name:e.name,exchange:e.exchange,api_key:e.apiKey,api_secret:e.apiSecret};x.value&&(A.additional_fields={api_passphrase:e.apiPassphrase,wallet_address:e.walletAddress,stark_private_key:e.stark_private_key});const{data:a,error:p}=await U("/exchange-api-keys/store",A,!0);f.value=!1,p.value&&p.value.statusCode!==200&&C(p);const g=a.value;g.status==="success"?(b("success","Successfully added API key"),y.value.push(g.data),h()):g.status==="error"&&b("error",g.message)}function h(){e.exchange=d.liveTradingExchangeNames[0],e.name="",e.apiKey="",e.apiSecret="",e.apiPassphrase="",e.walletAddress="",e.stark_private_key=""}return(A,a)=>{const p=G,g=z,c=H,k=J,j=N,q=R,D=O;return u(),_(Q,null,{default:i(()=>[n(p,null,{default:i(()=>a[7]||(a[7]=[K(" Exchange API Keys ")])),_:1}),a[10]||(a[10]=s("p",null,[K(" Here you can add your API keys for various exchanges. API keys are used to connect your account to the exchange and allow the bot to trade on your behalf. "),s("br"),s("br"),K("Please note that for security reasons, once created, API keys cannot be modified or seen again. ")],-1)),a[11]||(a[11]=s("br",null,null,-1)),n(q,{state:t(e),class:"space-y-4",onSubmit:l},{default:i(()=>[n(c,{label:"Exchange name:",required:""},{default:i(()=>[n(g,{modelValue:t(e).exchange,"onUpdate:modelValue":a[0]||(a[0]=o=>t(e).exchange=o),searchable:"",options:t(d).liveTradingExchangeNames},null,8,["modelValue","options"])]),_:1}),n(c,{label:"Name:",required:""},{default:i(()=>[n(k,{modelValue:t(e).name,"onUpdate:modelValue":a[1]||(a[1]=o=>t(e).name=o),type:"text",placeholder:"Give a name to this API key (e.g. subaccount1)"},null,8,["modelValue"])]),_:1}),n(c,{label:"API Key:",required:""},{default:i(()=>[n(k,{modelValue:t(e).apiKey,"onUpdate:modelValue":a[2]||(a[2]=o=>t(e).apiKey=o),placeholder:"Enter your API key here",type:"text"},null,8,["modelValue"])]),_:1}),n(c,{label:"API Secret:",required:""},{default:i(()=>[n(k,{modelValue:t(e).apiSecret,"onUpdate:modelValue":a[3]||(a[3]=o=>t(e).apiSecret=o),placeholder:"Enter your API secret here",type:"text"},null,8,["modelValue"])]),_:1}),t(x)?(u(),_(c,{key:0,label:"API Passphrase:",required:""},{default:i(()=>[n(k,{modelValue:t(e).apiPassphrase,"onUpdate:modelValue":a[4]||(a[4]=o=>t(e).apiPassphrase=o),placeholder:"Enter your API passphrase here",type:"text"},null,8,["modelValue"])]),_:1})):v("",!0),t(x)?(u(),_(c,{key:1,label:"Wallet Address:",required:""},{default:i(()=>[n(k,{modelValue:t(e).walletAddress,"onUpdate:modelValue":a[5]||(a[5]=o=>t(e).walletAddress=o),placeholder:"Enter your wallet address here",type:"text"},null,8,["modelValue"])]),_:1})):v("",!0),t(x)?(u(),_(c,{key:2,label:"Stark Private Key:",required:""},{default:i(()=>[n(k,{modelValue:t(e).stark_private_key,"onUpdate:modelValue":a[6]||(a[6]=o=>t(e).stark_private_key=o),placeholder:"Enter your Stark private key here",type:"text"},null,8,["modelValue"])]),_:1})):v("",!0),s("div",de,[n(j,{type:"submit",icon:"i-heroicons-plus",class:"w-48 flex justify-center",label:"Create",loading:t(f),disabled:!t(r)},null,8,["loading","disabled"])])]),_:1},8,["state"]),s("div",ue,[n(p,null,{default:i(()=>[a[8]||(a[8]=K(" Previously Added ")),t(y).length?(u(),w("span",pe,"("+m(t(y).length)+")",1)):v("",!0)]),_:1}),t(y).length?v("",!0):(u(),_(D,{key:0},{default:i(()=>a[9]||(a[9]=[K(" No API keys added yet ")])),_:1})),(u(!0),w(L,null,T(t(y),o=>(u(),_(ie,{key:o.id,"api-key":o},null,8,["api-key"]))),128))])]),_:1})}}});export{xe as default};
