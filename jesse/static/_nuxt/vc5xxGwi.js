import{_ as Z}from"./CXvS0V0S.js";import{g as S,o as s,c as i,q as h,b as c,r as x,D as A,a7 as G,i as J,ar as K,j as Q,d as y,w as R,B as V,F as w,m as C,e as $,C as f,v as I,M as ee,X as te,Y as oe,t as b,s as re,U}from"./Dl48H-cf.js";import{d as se}from"./CDZc91Rq.js";import{_ as ae}from"./BTdtwO3f.js";const le=["innerHTML"],De=S({__name:"Logs",props:{logs:{}},setup(v){return(e,k)=>{const d=Z;return e.logs.length?(s(),i("pre",{key:0,class:"whitespace-pre-line rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-base dark:text-gray-300 w-full px-4 sm:px-6 py-2",innerHTML:e.logs},null,8,le)):(s(),h(d,{key:1}))}}});function z(v,e){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}const ne={id:"routes-section",class:"select-none"},ie={class:"w-full flex justify-center"},$e=S({__name:"Routes",props:{mode:{},timeframes:{},symbols:{},form:{},results:{},totalRoutesError:{}},setup(v){const e=v,k=x([]),d=x(""),r=A(),_=x({data_routes:e.form.data_routes}),M=x({routes:e.form.routes}),a=G({uniqueRoutesErrorMessage:"each exchange-symbol pair can be traded only once! More info: https://docs.jesse.trade/docs/routes.html#trading-multiple-routes",maxSymbolLengthErrorMessage:"Maximum symbol length is exceeded!",mustContainDashErrorMessage:'Symbol parameter must contain "-" character!',timeframeMustBeDifferentErrorMessage:"Data routes' timeframe and trading routes' timeframe must be different",emptyParameter:"You must fill all the parameters",invalidSymbol:"Symbol is invalid"}),T=J(()=>r.strategies);K(()=>{_.value={data_routes:e.form.data_routes},M.value={routes:e.form.routes},B(),O()});function B(){e.form.routes.length||e.form.routes.push({symbol:"",timeframe:r.jesseSupportedTimeframes.includes("4h")?"4h":r.jesseSupportedTimeframes[r.jesseSupportedTimeframes.length-1],strategy:r.strategies[0]})}function O(){e.totalRoutesError.splice(0,e.totalRoutesError.length);for(const n of e.form.routes)D(n);if(e.form.data_routes.length>0)for(const n of e.form.data_routes)D(n);let o=!1;const t=e.form.routes;for(const n of t.slice(0,-1)){if(e.totalRoutesError.includes(a.uniqueRoutesErrorMessage)||o)break;for(const g of t.slice(t.indexOf(n)+1))if(n.strategy===g.strategy&&n.symbol===g.symbol&&n.symbol.length!==0){e.totalRoutesError.push(a.uniqueRoutesErrorMessage),o=!1;break}}let m=!1;const p=e.form.data_routes;for(const n of p.slice(0,-1)){if(e.totalRoutesError.includes(a.uniqueRoutesErrorMessage)||m)break;for(const g of p.slice(p.indexOf(n)+1))if(n.timeframe===g.timeframe&&n.symbol===g.symbol){e.totalRoutesError.push(a.uniqueRoutesErrorMessage),m=!0;break}}if(e.form.data_routes.length>0)for(const n of p){if(e.totalRoutesError.includes(a.timeframeMustBeDifferentErrorMessage)||o)break;for(const g of e.form.routes)if(n.symbol===g.symbol&&n.timeframe===g.timeframe){e.totalRoutesError.push(a.timeframeMustBeDifferentErrorMessage),m=!0;break}}}function D(o){!e.totalRoutesError.includes(a.emptyParameter)&&(o.symbol.length==0||o.timeframe.length==0)&&e.totalRoutesError.push(a.emptyParameter)}function j(){e.form.routes.push({symbol:"",timeframe:r.jesseSupportedTimeframes.includes("4h")?"4h":r.jesseSupportedTimeframes[r.jesseSupportedTimeframes.length-1],strategy:r.strategies[0]})}function q(){e.form.data_routes.push({symbol:"",timeframe:r.jesseSupportedTimeframes.includes("4h")?"4h":r.jesseSupportedTimeframes[r.jesseSupportedTimeframes.length-1]})}function L(o){const t=e.form.routes.indexOf(o);e.form.routes.length!==1&&t>-1&&e.form.routes.splice(t,1)}function N(o){const t=e.form.data_routes.indexOf(o);e.form.data_routes.length!==0&&t>-1&&e.form.data_routes.splice(t,1)}function H(o){const t=e.form.routes.indexOf(o),m={strategy:o.strategy,symbol:"",timeframe:o.timeframe};e.form.routes.splice(t+1,0,m)}function P(o){const t=e.form.data_routes.indexOf(o),m={symbol:"",timeframe:o.timeframe};e.form.data_routes.splice(t+1,0,m)}function F(o){const t=e.form.routes.indexOf(o);t!==0&&(e.form.routes[t]=e.form.routes[t-1],e.form.routes[t-1]=o)}function W(o){const t=e.form.data_routes.indexOf(o);t!==0&&(e.form.data_routes[t]=e.form.data_routes[t-1],e.form.data_routes[t-1]=o)}function Y(o){const t=e.form.routes.indexOf(o);t!==e.form.routes.length-1&&(e.form.routes[t]=e.form.routes[t+1],e.form.routes[t+1]=o)}function X(o){const t=e.form.data_routes.indexOf(o);t!==e.form.data_routes.length-1&&(e.form.data_routes[t]=e.form.data_routes[t+1],e.form.data_routes[t+1]=o)}return Q(()=>d.value,o=>{if(o.length==0){k.value=[];return}const t=[];for(const m of e.symbols){if(t.length>50)break;m.toLowerCase().startsWith(o.toLowerCase())&&t.push(m)}k.value=t}),(o,t)=>{const m=se,p=ae,n=I,g=ee;return s(),i("div",ne,[y(m,{title:"Routes"},{default:R(()=>[c("div",ie,[c("button",{type:"button",class:"inline-flex items-center shadow-sm px-4 py-1.5 border border-gray-300 dark:border-gray-900 text-sm leading-5 font-medium rounded-l-full text-gray-700 dark:text-gray-100 bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none",onClick:j},[y(V(z),{class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),t[4]||(t[4]=c("span",null,"Trading Route",-1))]),c("button",{type:"button",class:"inline-flex items-center shadow-sm px-4 py-1.5 border border-gray-300 dark:border-gray-900 text-sm leading-5 font-medium rounded-r-full text-gray-700 dark:text-gray-100 bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none",onClick:q},[y(V(z),{class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),t[5]||(t[5]=c("span",null,"Data Route",-1))])])]),_:1}),(s(!0),i(w,null,C(o.form.routes,(l,E)=>(s(),i("div",{key:l.symbol+E,class:"flex mt-4"},[y(p,{modelValue:l.symbol,"onUpdate:modelValue":u=>l.symbol=u,query:d.value,"onUpdate:query":t[0]||(t[0]=u=>d.value=u),"clear-search-on-close":"",class:"w-full",ui:{rounded:"rounded-none rounded-l"},searchable:"","searchable-placeholder":"Search symbols...",size:"lg",options:k.value,placeholder:"Select a symbol...",onChange:t[1]||(t[1]=u=>d.value="")},{empty:R(()=>t[6]||(t[6]=[$("Start typing...")])),_:2},1032,["modelValue","onUpdate:modelValue","query","options"]),y(p,{modelValue:l.timeframe,"onUpdate:modelValue":u=>l.timeframe=u,class:"w-full",ui:{rounded:"rounded-none"},size:"lg","value-attribute":"value",options:o.timeframes},null,8,["modelValue","onUpdate:modelValue","options"]),y(p,{modelValue:l.strategy,"onUpdate:modelValue":u=>l.strategy=u,class:"w-full",ui:{rounded:"rounded-none rounded-r"},size:"lg",options:T.value,searchable:""},null,8,["modelValue","onUpdate:modelValue","options"]),o.form.routes.length>1?(s(),h(n,{key:0,class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-trash",disabled:o.form.routes.length===1,onClick:u=>L(l)},null,8,["disabled","onClick"])):f("",!0),o.form.routes.length>1?(s(),h(n,{key:1,class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-document-duplicate",disabled:o.form.routes.length===1,onClick:u=>H(l)},null,8,["disabled","onClick"])):f("",!0),o.form.routes.length>1?(s(),h(n,{key:2,class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-arrow-down",disabled:o.form.routes.indexOf(l)===o.form.routes.length-1,onClick:u=>Y(l)},null,8,["disabled","onClick"])):f("",!0),o.form.routes.length>1?(s(),h(n,{key:3,class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-arrow-up",disabled:o.form.routes.indexOf(l)===0,onClick:u=>F(l)},null,8,["disabled","onClick"])):f("",!0),y(n,{class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-code-bracket",to:`/strategies/${l.strategy}`},null,8,["to"])]))),128)),o.form.data_routes.length?(s(),h(g,{key:0,class:"mt-8 mb-4",title:"Data Routes"})):f("",!0),(s(!0),i(w,null,C(o.form.data_routes,(l,E)=>(s(),i("div",{key:l.symbol+E+l.timeframe,class:"flex mt-4"},[y(p,{modelValue:l.symbol,"onUpdate:modelValue":u=>l.symbol=u,query:d.value,"onUpdate:query":t[2]||(t[2]=u=>d.value=u),"clear-search-on-close":"",class:"w-full",ui:{rounded:"rounded-none rounded-l"},searchable:"",size:"lg",options:k.value,placeholder:"Select a symbol...",onChange:t[3]||(t[3]=u=>d.value="")},{empty:R(()=>t[7]||(t[7]=[$("Start typing...")])),_:2},1032,["modelValue","onUpdate:modelValue","query","options"]),y(p,{modelValue:l.timeframe,"onUpdate:modelValue":u=>l.timeframe=u,class:"w-full",ui:{rounded:"rounded-none rounded-r"},size:"lg","value-attribute":"value",options:o.timeframes},null,8,["modelValue","onUpdate:modelValue","options"]),y(n,{size:"lg",variant:"link",color:"gray",icon:"i-heroicons-trash",onClick:u=>N(l)},null,8,["onClick"]),o.form.routes.length>1?(s(),h(n,{key:0,class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-document-duplicate",onClick:u=>P(l)},null,8,["onClick"])):f("",!0),o.form.data_routes.length>1?(s(),h(n,{key:1,class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-arrow-down",disabled:o.form.data_routes.indexOf(l)===o.form.data_routes.length-1,onClick:u=>X(l)},null,8,["disabled","onClick"])):f("",!0),o.form.data_routes.length>1?(s(),h(n,{key:2,class:"",size:"lg",variant:"link",color:"gray",icon:"i-heroicons-arrow-up",disabled:o.form.data_routes.indexOf(l)===0,onClick:u=>W(l)},null,8,["disabled","onClick"])):f("",!0)]))),128))])}}}),ue=["textContent"],de=S({__name:"Tooltip",props:{title:{}},setup(v){const e=x(!1),k=()=>{e.value=!0},d=()=>{e.value=!1};return(r,_)=>(s(),i("span",{class:"relative underline",onMouseenter:k,onMouseleave:d},[te(c("span",{class:"absolute -top-10 z-90 bg-gray-900 rounded px-2 py-1 text-sm text-white",textContent:b(r.title)},null,8,ue),[[oe,V(e)]]),re(r.$slots,"default")],32))}}),me={class:"flex flex-col select-none"},ce={class:"-my-2 overflow-x-auto"},fe={class:"py-2 align-middle inline-block min-w-full"},pe={class:"border dark:border-gray-600 overflow-hidden sm:rounded"},ge={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-600 hide-scroll overflow-x-scroll"},ye={key:0,class:"bg-gray-100 dark:bg-gray-800 select-none"},he={key:1},ke=["textContent"],be=["textContent"],ve=["textContent"],_e={key:1},xe=["textContent"],we=["textContent"],Ce=["textContent"],Re={key:0,class:"text-center text-xs dark:bg-gray-700 py-4 opacity-30 dark:opacity-75 select-none"},Ue=S({__name:"MultipleValuesTable",props:{header:{type:Boolean},data:{},headerItems:{}},setup(v){return(e,k)=>{const d=de;return s(),i("div",me,[c("div",ce,[c("div",fe,[c("div",pe,[c("table",ge,[e.header?(s(),i("thead",ye,[c("tr",null,[(s(!0),i(w,null,C(e.headerItems,r=>(s(),i("th",{key:r,scope:"col",class:"px-6 py-3 text-left text-xs font-bold text-gray-500 dark:text-gray-400"},b(r),1))),128))])])):f("",!0),e.data.length?(s(),i("tbody",he,[(s(!0),i(w,null,C(e.data,(r,_)=>(s(),i("tr",{key:_,class:U(["text-gray-900 dark:text-gray-200",_%2===0?"bg-white dark:bg-backdrop-dark":"bg-gray-50 dark:bg-gray-700"])},[(s(!0),i(w,null,C(r,(M,a)=>(s(),i("td",{key:a,class:U(["px-6 py-4 whitespace-nowrap text-sm font-medium",r[a].style])},[r[a].tooltip?(s(),h(d,{key:0,title:r[a].tooltip},{default:R(()=>[r[a].tag==="code"?(s(),i("code",{key:0,class:"rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:b(r[a].value===0?"":r[a].value)},null,8,ke)):r[a].tag==="pre"?(s(),i("pre",{key:1,class:"whitespace-pre-line rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:b(r[a].value===0?"":r[a].value)},null,8,be)):(s(),i("span",{key:2,textContent:b(r[a].value===0?"":r[a].value)},null,8,ve))]),_:2},1032,["title"])):(s(),i("span",_e,[r[a].tag==="code"?(s(),i("code",{key:0,class:"rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:b(r[a].value===0?"":r[a].value)},null,8,xe)):r[a].tag==="pre"?(s(),i("pre",{key:1,class:"whitespace-pre-line rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:b(r[a].value===0?"":r[a].value)},null,8,we)):(s(),i("span",{key:2,textContent:b(r[a].value===0?"":r[a].value)},null,8,Ce))]))],2))),128))],2))),128))])):f("",!0)]),e.data.length?f("",!0):(s(),i("div",Re," Empty List "))])])])])}}});export{De as _,$e as a,Ue as b};
