import{o as l,c as u,b as e,h as T,r as x,T as M,F as v,n as S,v as _,w as i,d as o,t as U,W as c,D as n,Z as w,$,a0 as L,a1 as N,G as R,I as V,a2 as z,x as D,L as F,f as O,Y as E,y as I,A as W}from"./zaJoKCRM.js";import{r as A}from"./CGqqXpHc.js";import{r as G}from"./7tvQ_0LX.js";function j(C,f){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3"})])}const Y={class:"mb-4"},Z={class:"hidden sm:block"},q={class:"relative rounded-lg shadow flex justify-between divide-x divide-gray-200 dark:divide-gray-700 [&>*]:divide-x [&>*]:divide-gray-200 [&>*]::dark:divide-gray-700","aria-label":"Tabs"},H={class:"w-[calc(100%-114px)] flex justify-between"},J={class:"whitespace-nowrap text-ellipsis"},K=["onClick"],P=["onClick"],Q={class:"absolute right-[1em] focus:outline-none"},X={class:"absolute right-[1em] focus:outline-none"},ee={class:"absolute right-[1em] focus:outline-none"},te=e("span",{"aria-hidden":"true",class:"absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600"},null,-1),re={class:"inline-block pt-5 px-2 pb-4"},se={class:"w-full flex justify-between items-center"},ae={class:"flex items-center"},oe={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10"},ne=e("h3",{class:"text-gray-600 dark:text-gray-200 font-semibold ml-2 text-xl"}," Upgrade your plan ",-1),le=e("div",{class:"flex items-start justify-start"},[e("div",{class:"mt-3 sm:mt-0 sm:ml-4 text-left"},[e("div",{class:"my-4 ml-8"},[e("p",{class:"text-gray-500 dark:text-gray-300"}," For benchmarking, you need to upgrade your plan. ")])])],-1),ie={class:"mt-5 sm:mt-4 flex justify-end"},me=T({__name:"BacktestTabs",props:{tabs:{},currentTab:{}},emits:["close","cancel"],setup(C,{emit:f}){const d=x(!1),g=M(),b=x(g.params.id),m=f;function y(s){if(!s.form.routes.length)return"New Tab";if(s.results.exception.error&&s.results.executing)return"Error";const t=s.form.routes[0];let a="";return t.strategy&&(a+=`${t.strategy} • `),t.symbol&&(a+=`${t.symbol} • `),t.timeframe&&(a+=`${t.timeframe}`),a=a.endsWith(" • ")?a.slice(0,-3):a,s.results.executing?`${a} | ${s.results.progressbar.current}%`:s.results.showResults?`${a} | Results`:a}return(s,t)=>{const a=O,h=E,p=I,B=W;return l(),u(v,null,[e("div",Y,[e("div",Z,[e("nav",q,[e("div",H,[(l(!0),u(v,null,S(s.tabs,(r,de)=>(l(),_(h,{key:r.id,popper:{arrow:!0},class:"relative w-full group min-w-0 overflow-hidden text-center flex items-center group pr-6",text:y(r),"open-delay":700,onMouseup:N(k=>m("close",r.id),["middle"])},{default:i(()=>[o(a,{to:`/backtest/${r.id}`,class:c([r.id===n(b)?"text-gray-900 dark:text-gray-100 font-bold ":"text-gray-500 dark:text-gray-300 hover:text-gray-700 font-medium ","py-3 px-4 inline-block select-none cursor-pointer focus:outline-none w-full text-xs bg-gray-50 dark:bg-backdrop-dark"])},{default:i(()=>[e("span",J,U(y(r)),1),e("span",{"aria-hidden":"true",class:c([r.id===n(b)&&Object.keys(s.tabs).length>1?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"])},null,2)]),_:2},1032,["to","class"]),r.results.executing&&r.results.exception.error==""?w((l(),u("button",{key:0,class:"absolute right-[0.5em] focus:outline-none",onClick:k=>m("cancel",r.id)},[o(n(A),{class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 bg-gray-100 dark:bg-gray-700 rounded-full","aria-hidden":"true"})],8,K)),[[$,Object.keys(s.tabs).length>1]]):w((l(),u("button",{key:1,class:"absolute right-[0.5em] focus:outline-none",onClick:k=>m("close",r.id)},[o(n(L),{class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 bg-gray-100 dark:bg-gray-700 rounded-full","aria-hidden":"true"})],8,P)),[[$,Object.keys(s.tabs).length>1]])]),_:2},1032,["text","onMouseup"]))),128))]),o(h,{text:"Benchmark",popper:{arrow:!0}},{default:i(()=>[("useMainStore"in s?s.useMainStore:n(R))().plan=="free"?(l(),u("button",{key:0,class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",onClick:t[0]||(t[0]=r=>d.value=!0)},[e("div",Q,[o(n(j),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),e("span",{"aria-hidden":"true",class:c(["absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600",[n(g).path==="/backtest/benchmark"?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"]])},null,2)])):(l(),_(a,{key:1,class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",href:"/backtest/benchmark"},{default:i(()=>[e("button",X,[o(n(j),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),e("span",{"aria-hidden":"true",class:c(["absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600",[n(g).path==="/backtest/benchmark"?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"]])},null,2)]),_:1}))]),_:1}),o(h,{text:"New Tab",popper:{arrow:!0}},{default:i(()=>[e("div",{class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",onClick:t[1]||(t[1]=r=>n(V)().addTab(s.currentTab))},[e("button",ee,[o(n(G),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),te])]),_:1})])])]),o(B,{modelValue:n(d),"onUpdate:modelValue":t[4]||(t[4]=r=>F(d)?d.value=r:null)},{default:i(()=>[e("div",re,[e("div",se,[e("div",ae,[e("div",oe,[o(n(z),{class:"text-amber-400 h-7 w-7","aria-hidden":"true"})]),ne]),o(p,{icon:"i-heroicons-x-mark",variant:"link",color:"gray",class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:t[2]||(t[2]=r=>d.value=!1)})]),le,e("div",ie,[o(p,{variant:"link",color:"gray",class:"mr-4",size:"lg",label:"Close",onClick:t[3]||(t[3]=r=>d.value=!1)}),o(a,{to:"https://jesse.trade/pricing",target:"_blank"},{default:i(()=>[o(p,{variant:"solid",color:"primary",class:"mr-4",size:"lg",label:"Upgrade"})]),_:1}),D(s.$slots,"default")])])]),_:3},8,["modelValue"])],64)}}});export{me as _};
